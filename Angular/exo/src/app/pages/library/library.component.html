<div class="container mx-auto p-6">
    <h1 class="font-bold text-gray-800 mb-6 text-4xl">Librairie</h1>

    <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        @for (book of books; track book; let i = $index) {
            <div class="bg-slate-100 rounded-xl shadow-md p-6"> 
                <h2 class="font-semibold text-slate-800 mb-3">{{ book.title }} <span>{{ book.isRead | emoji }}</span></h2>
                <p class="text-slate-800 mb-3">Auteur : {{ book.author }}</p>
                <button (click)="toggleIsRead(book)" class="bg-slate-800 hover:bg-slate-600 text-white py-2 px-2 font-semibold rounded">{{ book.isRead ? "Marquer comme non lu" : "Marquer comme lu" }}</button>
            </div>
        }
    </section>

    <section>
        <h2 class="font-bold text-gray-800 mb-6 text-4xl">Ajouter un livre</h2>

        <form (ngSubmit)="submitNewBook()" >
            <div>
                <label for="title" class="block text-sm text-slate-700">Titre :</label>
                <input type="text" id="title" name="title" [(ngModel)]="newBook.title" class="mt-1 block w-full px-4 py-2 border border-slate-300 rounded-md" >
                @if (titleHasError) {
                    <p class="text-red-600">Veuillez saisir un titre</p>
                }
            </div>
            <div>
                <label for="author" class="block text-sm text-slate-700">Auteur :</label>
                <input type="text" id="author" name="author" [(ngModel)]="newBook.author" class="mt-1 block w-full px-4 py-2 border border-slate-300 rounded-md">
                @if (authorHasError) {
                    <p class="text-red-600">Veuillez saisir un auteur</p>
                }
            </div>
            <div>
                <button type="submit" class="mt-2 w-full py-3 px-6 bg-slate-600 text-white hover:bg-slate-400 rounded">Enregistrer</button>
            </div>
        </form>
    </section>
</div>